# History Log

## 2026-02-01
- Initialized template and baseline structure.

## 2026-02-01
- Added rule to update HistoryLog on every code change and created HistoryLog.
- Prepared repository for initial git commit and template setup.
- Initialized git repo, added .gitignore, and pushed initial commit to GitHub.
- Added README section explaining how to use this repo as a GitHub template.
- Added rule requiring detailed commit and push titles/descriptions.
- Added minimal Outbox/notification system with background processing and guidance updates.
- Added outbox migration (AddOutbox), design-time DbContext factory, and applied database update.
- Added .editorconfig/.gitattributes to enforce UTF-8 and LF endings.

- Added rule requiring EN-US for all code identifiers/comments.
- Added appsettings/ENV documentation rule and README ENVs section.
- Added rule requiring happy-path and failure scenarios in unit/integration tests for each feature/fix.
- Added regression testing rule to ensure no leftover/dirty data after failures and cleanup of created data.
- Added internal user management with external auth providers and updated ENVs/README.
- Added user management (internal + social auth), auth endpoints, tests, and migration AddUserManagement.
- Updated JWT signing key length for HS256 requirements.
- Added admin user seeding via AdminUser settings.
- Added integration test for admin user seeding.
- Seeded admin user explicitly in integration test host to validate admin creation in Testing environment.
- Added AdminUser overrides in integration test configuration to ensure seeding succeeds.
- Updated admin seed integration test to invoke seeder and assert idempotency.
- Added explicit AdminUserOptions override in integration test services for seeding.
- Ensured test host replaces ApplicationDbContext registration to use shared in-memory SQLite.
- Added fallback defaults in admin seeder to avoid missing config in tests.
- Enabled admin seeding in all environments to support integration tests.
- Added assertions for AdminUser options in admin seed integration test.
- Forced AdminUserOptions via PostConfigure in integration tests.
- Adjusted admin seed integration test to construct seeder with explicit options.
- Switched integration tests to EF Core InMemory to stabilize admin seed verification.
- Added diagnostics in admin seed test to verify DbContext scoping.
- Fixed integration test DB scope by using a stable InMemory database name per factory.
- Simplified admin seed test to assert active flag via projection.
- Reverted integration tests to shared SQLite in-memory provider to avoid mixed providers.
- Added mandatory list endpoint pagination/filter/order rules and auditable base entity requirement.
- Added pagination guidance recommending keyset/seek pagination in README.
- Added cursor-based pagination helper models and unit tests.
- Wired cursor-based pagination helper into Customers list query and controller.
- Added auditable base entity fields, updated Customers list to support includeInactive, and added migration AddAuditFields.
- Centralized audit field mappings via AuditableEntityConfiguration base.
- Added soft delete audit fields and SaveChanges handling with migration AddSoftDeleteFields.
- Added email send/receive feature with SMTP + IMAP/POP3, queues, processors, endpoints, tests, and migration AddEmailMessaging.
- Added separate LogsDb with request/error/transaction logging, masking/sampling/retention, and migration AddAuditLoggingTables.
- Added request id middleware and test coverage for log persistence with separate LogsDb.
- Added Demo MVC project with UI for customers, email tests, logs, and settings plus new customer CRUD and log read endpoints.
- Fixed Demo MVC build by adding ErrorViewModel and resolving session extension ambiguity.
- Handled expected cancellation in EmailOutboxProcessor to avoid noisy TaskCanceledException on shutdown.
- Handled expected cancellation in OutboxProcessor to avoid TaskCanceledException on shutdown.
- Handled expected cancellation in EmailInboxProcessor to avoid TaskCanceledException on shutdown.
- Handled expected cancellation in log workers to avoid OperationCanceledException on shutdown.
- Fixed logging middleware to resolve ICorrelationContext per request instead of from root provider.
- Updated Demo MVC default ApiBaseUrl to match API launchSettings port.
- Added reusable grid component (filters, sorting, actions) and applied to Customers index.
- Applied reusable grid component to logs list views (requests, errors, transactions).
- Added GridBuilder helper and documented usage in README.
- Updated remaining list views to use GridBuilder (logs lists).
- Migrated dashboard and UI showcase tables to use GridBuilder.
- Added Demo MVC login gate and ensured admin seed can reset password from config.
- Enriched UI Showcase with reusable UI components and patterns.
- Added reusable UI partials (stat card, info list, empty state, form section) and documented UI checklist.
- Added reusable QuickLinks partial and applied it to the Dashboard.
- Added QuickLinks component to UI Showcase and documented component update rule.
- Added Demo MVC agent guidelines and per-folder agent.md files for frontend.
- Moved SQLite databases to App_Data to keep data stable across runs.
- Added automatic EF Core migrations on startup for MainDb and LogsDb.
- Added migration SyncModel for ApplicationDbContext to resolve pending model changes.
- Added App_Data to .gitignore to prevent database files from being tracked.
- Added reusable filter drawer (offcanvas) component and migrated list screens to use it.
- Added filter drawer component to UI Showcase.
- Added client telemetry endpoint and DemoMvc telemetry pipeline with correlation headers and background queue.
- Extended ErrorLogs schema for client telemetry and added migrations AddClientTelemetryFields (LogsDb) and AddClientTelemetryFieldsToMain (MainDb).
- Added telemetry integration test and internal key configuration for telemetry.
- Updated logs UI to display client telemetry fields and details.
- Updated README with telemetry behavior and ENV keys.
- Added frontend log views (ClientLogs) separated from backend logs.
- Updated DemoMvc agent guidelines with telemetry middleware/logging instructions.
- Added error log filtering by source/event type/severity to support frontend telemetry screens.
- Added a Dashboard button to force a UI exception for frontend telemetry testing.
- Added DemoMvc settings UI to edit API base URL and telemetry options via App_Data/ui-settings.json.
- Added API settings read-only view in DemoMvc (fetched from /api/settings).
- Added descriptions for API and DemoMvc settings and rendered both as accordions in Settings (frontend now editable within accordion).
- Added full frontend settings accordion (all keys, with descriptions) in Settings page.
